<!DOCTYPE html>

<html>
  <head>
    <base href="/">
    <title>Welcome to Angular 2!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <main>Loading...</main>
    <script>

        var myWebSocket = new Promise( (resolve, reject) => {

            var ws = new WebSocket("ws://localhost:3030");

            ws.addEventListener("open", function() {

                resolve(ws);
            });

        } );

        myWebSocket.then( (ws) => {
        
            ws.send("some info");
        });

        async function doIt() {
        
            const g = await doSomeAsyncOp();

            return g;

        }

        doIt();



    </script>
  </body>
</html>
